<!DOCTYPE html>
<html>
<head>
    <title>Surat Maaf Bucin</title>
    <style>
        /* [Keep all your existing CSS styles] */
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <div class="container">
        <div class="envelope" id="envelope"></div>
        
        <div class="letter" id="letter">
            <!-- Title page -->
            <div class="page" id="page-0">
                <h1>Maafin Aku, Sayangku~</h1>
                <img src="img/foto1.jpg" alt="Foto Kita" class="page-photo">
                <div class="hearts">â™¥ â™¥ â™¥</div>
            </div>
            
            <!-- Content pages -->
            <div class="page" id="page-1">
                <img src="img/foto2.jpg" alt="Foto Kita" class="page-photo">
                <div class="page-text">Haii kamu yang bikin hari-hariku berwarna ðŸŒˆ Aku mau ngucapin sesuatu yang penting nih...</div>
            </div>
            
            <!-- [Keep all other page content the same] -->
            
        </div>
        
        <div class="music-control" id="music-control">
            <i class="fas fa-music"></i>
        </div>
    </div>

    <script>
        // Configuration for GitHub Pages
        const isGitHub = window.location.host.includes('github.io');
        const basePath = isGitHub ? '/bbyy/' : './';
        
        // Initialize after DOM loads
        document.addEventListener('DOMContentLoaded', function() {
            // Set correct image paths
            document.querySelectorAll('.page-photo').forEach((img, index) => {
                const imgNum = index + 1;
                img.src = `${basePath}img/foto${imgNum}.jpg`;
                
                img.onerror = function() {
                    console.error(`Failed to load: ${img.src}`);
                    this.src = `${basePath}img/default.jpg`;
                };
            });

            // [Keep all your existing JavaScript code]
            
            // Only change the envelope click event to add image verification
            envelope.addEventListener('click', function() {
                // Verify at least one image loads before proceeding
                const testImg = new Image();
                testImg.src = `${basePath}img/foto1.jpg`;
                
                testImg.onload = function() {
                    proceedWithAnimation();
                };
                
                testImg.onerror = function() {
                    alert('Gambar tidak bisa dimuat. Pastikan folder "img" ada dan berisi foto1.jpg sampai foto9.jpg');
                    console.error('Image path error:', testImg.src);
                };
                
                function proceedWithAnimation() {
                    // [Keep your existing animation code]
                }
            });
        });

        // [Keep all your other existing JavaScript functions]
    </script>
</body>
</html>
